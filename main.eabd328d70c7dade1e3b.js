!function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(u&&u(e);f.length;)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={0:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([124,1]),n()}({124:function(t,e,n){n(125),t.exports=n(316)},315:function(t,e,n){},316:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(123),o=n.n(i),s=(n(315),function(t){var e=t.click,n=t.title,a=void 0===n?"":n,i=t.val,o=t.mod,s=void 0===o?"":o,c=t.disabled,l=void 0!==c&&c,u="panel__btn";return s&&(u+=" ".concat(u,"--").concat(s)),r.a.createElement("button",{onClick:e,title:a,className:u,disabled:l},i)}),c=function(t){return r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"panel__main"},r.a.createElement(s,{click:function(){return t.addTag("B")},title:"bold",val:"B"}),r.a.createElement(s,{click:function(){return t.addTag("I")},title:"italic",val:"I"}),r.a.createElement(s,{click:function(){return t.addTag("S")},title:"strikethrough",val:"S"}),r.a.createElement(s,{click:function(){return t.addTag("SPOILER")},title:"spoiler",val:"â– "}),r.a.createElement(s,{click:function(){return t.changeCase(!0)},title:"uppercase",val:"AA"}),r.a.createElement(s,{click:function(){return t.changeCase(!1)},title:"lowercase",val:"aa"}),r.a.createElement(s,{click:function(){return t.splitText("@")},title:"@ list",val:"@"}),r.a.createElement(s,{click:function(){return t.formatAsFilename("@")},title:"format as filename",val:"F"}),r.a.createElement(s,{click:function(){return t.addToClipboard()},title:"add to clipboard",val:"#"}),r.a.createElement(s,{click:function(){return t.discardChanges()},title:"discard changes",val:"C",disabled:!t.historyLength}),r.a.createElement(s,{click:t.undo,title:"undo",val:"U",disabled:!t.historyLength})))};function l(t){for(var e={"[B]":'<span class="bbcode-bold">',"[/B]":"</span>","[I]":'<span class="bbcode-italic">',"[/I]":"</span>","[S]":'<span class="bbcode-strike">',"[/S]":"</span>","[SPOILER]":'<span class="bbcode-spoiler">',"[/SPOILER]":"</span>"},n=!1,a="",r="",i=0;i<t.length;i++)"["===t[i]&&(n=!0),n?a+=t[i].toUpperCase():"\n"===t[i]?r+="<br />":r+=t[i],"]"===t[i]&&(n=!1,e[a]&&(r+=e[a]),a="");return r}function u(t){return t.replaceAll(/[^-_().,a-zA-Z0-9 ]/g,"").replaceAll(/ {2,}/g," ")}var d=function(t){var e=0;return t.selectionStart!==t.selectionEnd&&(e=t.selectionEnd-t.selectionStart),r.a.createElement("div",{className:"editor"},r.a.createElement("div",{className:"editor__counters"},r.a.createElement("span",{className:"editor__counter",title:"Total number of characters"},t.text.length),r.a.createElement("span",{className:"editor__counter",title:"Number of characters without any spaces"},function(t){if(t){var e=t.match(/\s/g);return e?t.length-e.length:t.length}return 0}(t.text)),r.a.createElement("span",{className:"editor__counter",title:"Number of selected characters"},e)),r.a.createElement("textarea",{className:"editor__textarea",value:t.text,onChange:t.onChange,onSelect:t.onSelect,ref:t.editorRef}))},f=function(t){var e=t.switchMode,n=t.allText;return r.a.createElement("div",{className:"underside"},r.a.createElement("label",{className:"panel__chkbox"},r.a.createElement("input",{type:"checkbox",name:"mode",onChange:e,checked:n})," ","Apply to all text"))},h=function(t){var e=t.text;return r.a.createElement("div",{className:"preview",dangerouslySetInnerHTML:{__html:l(e)}})};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(o,t);var e,n,a,i=m(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),b(y(e=i.call(this,t)),"state",{text:"",selectionStart:0,selectionEnd:0,allText:!1}),b(y(e),"editorRef",r.a.createRef()),b(y(e),"editorHistory",[]),e.addTag=e.addTag.bind(y(e)),e.changeCase=e.changeCase.bind(y(e)),e.splitText=e.splitText.bind(y(e)),e.undo=e.undo.bind(y(e)),e.onEditorChange=e.onEditorChange.bind(y(e)),e.onTextSelect=e.onTextSelect.bind(y(e)),e.switchMode=e.switchMode.bind(y(e)),e.formatAsFilename=e.formatAsFilename.bind(y(e)),e.discardChanges=e.discardChanges.bind(y(e)),e.addToClipboard=e.addToClipboard.bind(y(e)),e}return e=o,(n=[{key:"getSelectedTextFromEditor",value:function(){return this.state.selectionStart===this.state.selectionEnd?"":this.editorRef.current.value.substring(this.state.selectionStart,this.state.selectionEnd)}},{key:"setTextToEditor",value:function(t){var e=this.editorRef.current;return this.editorHistory.push(e.value),e.setRangeText(t,this.state.selectionStart,this.state.selectionEnd,"end"),e.focus(),e.value}},{key:"wrapTextInTag",value:function(t,e){return e.indexOf("\n")>=0&&(e=e.replaceAll(/ *\n */g,"[/".concat(t,"]\n[").concat(t,"]"))),"[".concat(t,"]").concat(e,"[/").concat(t,"]")}},{key:"addTag",value:function(t){this.state.allText?this.addTagToAllText(t):this.state.selectionStart!==this.state.selectionEnd?this.addTagToSelectedText(t):this.addTagToCurrentPosition(t),this.editorRef.current.focus()}},{key:"addTagToAllText",value:function(t){var e=this.state.text;this.editorHistory.push(e),this.setState({text:this.wrapTextInTag(t,e)})}},{key:"addTagToSelectedText",value:function(t){var e=this.getSelectedTextFromEditor();if(e){var n=this.setTextToEditor(this.wrapTextInTag(t,e));this.setState({text:n,selectionStart:0,selectionEnd:0})}}},{key:"addTagToCurrentPosition",value:function(t){var e=this.setTextToEditor("[".concat(t,"][/").concat(t,"]"));this.setState({text:e,selectionStart:0,selectionEnd:0})}},{key:"changeCase",value:function(t){this.state.allText?t?this.uppercaseAllText():this.lowercaseAllText():t?this.uppercaseSelectedText():this.lowercaseSelectedText(),this.editorRef.current.focus()}},{key:"uppercaseAllText",value:function(){var t=this.state.text,e=t.toUpperCase();e!==t&&(this.editorHistory.push(t),this.setState({text:e}))}},{key:"lowercaseAllText",value:function(){var t=this.state.text,e=t.toLowerCase();e!==t&&(this.editorHistory.push(t),this.setState({text:e}))}},{key:"uppercaseSelectedText",value:function(){var t=this.getSelectedTextFromEditor(),e=t.toUpperCase();if(e!==t){var n=this.setTextToEditor(e);this.setState({text:n,selectionStart:0,selectionEnd:0})}}},{key:"lowercaseSelectedText",value:function(){var t=this.getSelectedTextFromEditor(),e=t.toLowerCase();if(e!==t){var n=this.setTextToEditor(e);this.setState({text:n,selectionStart:0,selectionEnd:0})}}},{key:"splitText",value:function(t){this.state.allText?this.splitAllText(t):this.splitSelectedText(t)}},{key:"splitAllText",value:function(t){var e=this.state.text;e.indexOf("\n")>=0&&(this.editorHistory.push(e),this.setState({text:e.replaceAll(/\n/g,"\n".concat(t,"\n"))})),this.editorRef.current.focus()}},{key:"splitSelectedText",value:function(t){var e=this.getSelectedTextFromEditor();if(e.indexOf("\n")>=0){var n=e.replaceAll(/\n/g,"\n".concat(t,"\n")),a=this.setTextToEditor(n);this.setState({text:a,selectionStart:0,selectionEnd:0})}}},{key:"formatAsFilename",value:function(){this.state.allText?this.formatAsFilenameAllText():this.formatAsFilenameSelectedText()}},{key:"formatAsFilenameAllText",value:function(){var t=this.state.text;if(t){var e=u(t);e!==t&&(this.editorHistory.push(t),this.setState({text:e}))}this.editorRef.current.focus()}},{key:"formatAsFilenameSelectedText",value:function(){var t=this.getSelectedTextFromEditor();if(t){var e=u(t);if(e!==t){var n=this.setTextToEditor(e);this.setState({text:n,selectionStart:0,selectionEnd:0})}}this.editorRef.current.focus()}},{key:"discardChanges",value:function(){var t=this.editorHistory[0];t&&(this.editorHistory=[],this.setState({text:t})),this.editorRef.current.focus()}},{key:"addToClipboard",value:function(){var t=this.state.text;t&&navigator.clipboard&&navigator.clipboard.writeText(t),this.editorRef.current.focus()}},{key:"switchMode",value:function(){this.setState({allText:!this.state.allText})}},{key:"undo",value:function(){var t=this.editorHistory.pop();t&&this.setState({text:t}),this.editorRef.current.focus()}},{key:"onEditorChange",value:function(t){this.setState({text:t.target.value})}},{key:"onTextSelect",value:function(t){this.setState({selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(c,{addTag:this.addTag,changeCase:this.changeCase,splitText:this.splitText,formatAsFilename:this.formatAsFilename,undo:this.undo,historyLength:this.editorHistory.length,discardChanges:this.discardChanges,addToClipboard:this.addToClipboard}),r.a.createElement(d,{text:this.state.text,onChange:this.onEditorChange,onSelect:this.onTextSelect,editorRef:this.editorRef,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd}),r.a.createElement(f,{switchMode:this.switchMode,allText:this.state.allText}),r.a.createElement(h,{text:this.state.text}))}}])&&v(e.prototype,n),a&&v(e,a),o}(a.Component);o.a.render(r.a.createElement(S,null),document.getElementById("root"))}});